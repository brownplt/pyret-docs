language: python
python:
- '3.4'
branches:
  only:
  - anchor-sound
env:
  global:
  - GH_REF: github.com/h454482/pyret-docs.git
  - RACKET_DIR: "~/racket"
  - RACKET_VERSION: '7.4'
  - secure: YeIStlvyzUSqDIOgx2quYuEFk2Ves/XL1fa+x/NT4a2q92WX/DJxBv6Nn5zuwWviXFfEwdi3r9T5DcRhkWmQE8ogHmX9ria8qBvIi0pkPyR6bpUVLcqhxssjrzUcusEk5cboOyzJHimrKxyoXV0iJmUVqYhOEwISQxMRV/aW/lsegvp5n5KU4R+n2tYsS8e8Y3vLloFiL3QU4mpez6rQzpM6ZKLDwDPWfjxSAAz/hCdEpp7InitFFbpH/npTOBJI2UbKc/W56umGPVUrIgU8x1C3MF8sB/35wq3hg3TK02axDGW2HNoY7P4Peaqt2nkkrnyEgV2HyjyD4m778Aj9qThvJL1jVtERmYDIBNdzagF8YM3yJ6EA2WxLTS2ERO+T1RYgwDixucQARl5bp8SspWy/vM+dOQGUVVKyF9CSs8/Pd/07Fx84L43ELCgGAjMyEhE8hbChOHbcLnOuU1n++Ae5u/0ytSSkou1Tb1QEo5MSoYi1C9ScI3eH90Ff5GRg3THmmCPkwTui2Ou8wp3oLc6SuULDH6U/lD0+6wFu8FpGIYl1Dk0lfQo3JnW0eQoHslE0uW0AFUHRQPujws8JM8hEmARZDyjVSOCADUkHzN+28seguX5mwyNlbwgcvAgSZDuL4XYJrPeEUvpVMVxGCjdZlcmCw8XeKgYTmngxlTw=
  - secure: rHmNPLTMeRyfAt8gk7HYY2PFA++hET1RYTr2AGNUOPh7v9tCe8yeukabP9xGB9p202HMmfa9eybmQ5NsOMCXgbWTYrixjpWJFGqTRCvj7IobZJt2jwX+eK4dWQMur9FG2BPd/qA9Pw1W/xeOyF50zBgHAzWAwACUP2o2E+fIapu8bT9ItZtccjjCHeEMJ216UfJdpf86K+SkZyVz97agTLeQ6Rph6OKVAQMCTxzn89zhyM4fFU0FJbVI0KqAMr5hbjLqUsfOHL/6yq2bTtrllgKa16gr+utpFtYnmmoLU5rmYgOhaY+hgoNWwWo4+iEzNDpRlWBsVxbPQWj1YnpzdFKueApWjkQaddHj990M7Ts/gTmhbHE28nKbCVVpZCPlTY6Mb+Co0BeFW5FwM+9Tnj3EAUHHRdXj0oFPylw39sFHBRjeqn1eJx8oX0M1qdKeuF83KRyQI+sRNAPoO+XPy6Ig6UI49gFQoXBtiAWZeaMPVWPA77XGloJxUP+D7pZe1Qov3gQJrATG7LycIA9hwB6hOiINuloYW6YHzFUqPHKqtCp8ZOztRYghFfOGBQJpgagxKj/nmKIWdGsLxcBlArceWO8HgjwcpHhek9NQdnYdcqLzZnFCBWjUrUaYjj1EFYjJMvtbT9oM8nZmQxsPnRQMTo4dbJ0gj/N93fnvSm4=
before_install:
- git clone https://github.com/greghendershott/travis-racket.git
- cat travis-racket/install-racket.sh | bash
- export PATH="${RACKET_DIR}/bin:${PATH}"
script:
- npm install
- make
deploy:
- provider: s3
  bucket: pyret-docs-sound
  local_dir: build/docs
  upload-dir: docs
  skip_cleanup: true
  on:
    branch: anchor-sound
  secret_access_key:
    secure: g/SIwV2SxviJ5S8IMIAFVTtX9mGRXQEu1rJLoBoLOgWftdIFC8BSPo3BIF6b/V+fcjP1tqaiE3yG88PyRH403y7YZHEWZm2FoalVG8hPDdV/bSKen5O+m8f4FQttzzPCXTOu7A+5eyRu+MP0BvDdY/OdbyCAdo1ChiX/bw50uls/HYu00r1cU8fx+ftjT9IecK+msK/+CCL9lkMOeR+YxK7S3SLeP6+5GhWU2tTEz9uHvGfEyLzf6Ch1WivMh1jhvWawLJI26VcgTC1S6Z7N0y/IX7bJkqxueBJoj/Qm9yWRGqQZiZdATDqHlGj8ZfkD8ESowKqrFJyiT4jU4R/GQa7Y83z525YjmTuIAh0LH/TaH71r93mvmdJsnhkP16sSSfTxyw9VaBc32yl1rfeZReSg4Ov32vAR/PMTA5fspA5OOzEsLNceF8mE60a7heE5BxtAJOadCM+YSDxbxtheOoGnNNR17sKAYb6AK+ne7c9MjXJsscwY0Jo3hg90/JdOETcfHLLqSQuVXLMD+WvqJQhdB+2SkW3ELeTlOqLcAlacQA/LzJj/bG3kW4jWs2POzuryctHm+UnTgu0XW7ktIGH3IQ7g/7w0nlwBR+A0bJXmy7TQow2scZzebm8Rt9s5CVFuSG4CWXVPZ06A93n0lK8MUwLbqeE4P59dVHzDN0g=
  access_key_id:
    secure: LDsQsb1Pl4X9KhJlQ2VqKWL+jvhnAA9dnM9MA59lcQFW+7/ml4v+cBiEW/OoW1Ib6yvKTnQc1G5DKGGE3REgbUYiikQhgbSLRmjgzzsFaEFSdw/wI0HuzKTIwKnl72f4JIDLi4ddSWL0s+V+AfyHmsJ2pVfkFZo0A/zC6GMn2PENsmcPLI4E1LQZBFQxo9wFhrpVsKt+KhJsYsjamI887TOLXwyP5ID1jBLe2j8MZ/m5DV2hRwlYFspkb/qgUFfF+jJ1VCaPp5khvpDDdeXk6dpCN/SNeEXT9+yGBglZDzWtUWHu3iCfykn9S28JhYyzmQupa4f6S2nA9cQLWw5wuUtQV+hXmCYFrGvy2srvZvbvWcqGmn62WcLghmIgNn2CcEvHR6aauhUpZvbMgKZI1xK8lzkVM/B3RJxY+sHhKNXfb/rDQoKMiDq9haiZloDqHQoFs40eNieVVPOrklUM6pjAfBgjOxWAwfUkmJs2zMZcxSI20na+OtInwOt68UeZM1uuJn94707RasRyxkRltEDnvDMAgxVzKv0NvjkZ6vMpkbiGrPVtY8Z7/yP1T0V84LuAkfwwwRCfV/lNXuy5/4KPzi5CKdeErWwte2MH8nPlQoFzwRgJ2/0KKqnOXYZuLu67X58QjcKRKmlOMqFZ418gZwh5vbmqUB425lHys6U=