language: python
python:
- '3.4'
branches:
  only:
  - anchor-sound
env:
  global:
  - GH_REF: github.com/h454482/pyret-docs.git
  - RACKET_DIR: "~/racket"
  - RACKET_VERSION: '7.4'
  - secure: YeIStlvyzUSqDIOgx2quYuEFk2Ves/XL1fa+x/NT4a2q92WX/DJxBv6Nn5zuwWviXFfEwdi3r9T5DcRhkWmQE8ogHmX9ria8qBvIi0pkPyR6bpUVLcqhxssjrzUcusEk5cboOyzJHimrKxyoXV0iJmUVqYhOEwISQxMRV/aW/lsegvp5n5KU4R+n2tYsS8e8Y3vLloFiL3QU4mpez6rQzpM6ZKLDwDPWfjxSAAz/hCdEpp7InitFFbpH/npTOBJI2UbKc/W56umGPVUrIgU8x1C3MF8sB/35wq3hg3TK02axDGW2HNoY7P4Peaqt2nkkrnyEgV2HyjyD4m778Aj9qThvJL1jVtERmYDIBNdzagF8YM3yJ6EA2WxLTS2ERO+T1RYgwDixucQARl5bp8SspWy/vM+dOQGUVVKyF9CSs8/Pd/07Fx84L43ELCgGAjMyEhE8hbChOHbcLnOuU1n++Ae5u/0ytSSkou1Tb1QEo5MSoYi1C9ScI3eH90Ff5GRg3THmmCPkwTui2Ou8wp3oLc6SuULDH6U/lD0+6wFu8FpGIYl1Dk0lfQo3JnW0eQoHslE0uW0AFUHRQPujws8JM8hEmARZDyjVSOCADUkHzN+28seguX5mwyNlbwgcvAgSZDuL4XYJrPeEUvpVMVxGCjdZlcmCw8XeKgYTmngxlTw=
  - secure: rHmNPLTMeRyfAt8gk7HYY2PFA++hET1RYTr2AGNUOPh7v9tCe8yeukabP9xGB9p202HMmfa9eybmQ5NsOMCXgbWTYrixjpWJFGqTRCvj7IobZJt2jwX+eK4dWQMur9FG2BPd/qA9Pw1W/xeOyF50zBgHAzWAwACUP2o2E+fIapu8bT9ItZtccjjCHeEMJ216UfJdpf86K+SkZyVz97agTLeQ6Rph6OKVAQMCTxzn89zhyM4fFU0FJbVI0KqAMr5hbjLqUsfOHL/6yq2bTtrllgKa16gr+utpFtYnmmoLU5rmYgOhaY+hgoNWwWo4+iEzNDpRlWBsVxbPQWj1YnpzdFKueApWjkQaddHj990M7Ts/gTmhbHE28nKbCVVpZCPlTY6Mb+Co0BeFW5FwM+9Tnj3EAUHHRdXj0oFPylw39sFHBRjeqn1eJx8oX0M1qdKeuF83KRyQI+sRNAPoO+XPy6Ig6UI49gFQoXBtiAWZeaMPVWPA77XGloJxUP+D7pZe1Qov3gQJrATG7LycIA9hwB6hOiINuloYW6YHzFUqPHKqtCp8ZOztRYghFfOGBQJpgagxKj/nmKIWdGsLxcBlArceWO8HgjwcpHhek9NQdnYdcqLzZnFCBWjUrUaYjj1EFYjJMvtbT9oM8nZmQxsPnRQMTo4dbJ0gj/N93fnvSm4=
before_install:
- git clone https://github.com/greghendershott/travis-racket.git
- cat travis-racket/install-racket.sh | bash
- export PATH="${RACKET_DIR}/bin:${PATH}"
script:
- npm install
- make
deploy:
- provider: s3
  bucket: pyret-docs-sound
  local_dir: build/docs
  upload-dir: docs
  skip_cleanup: true
  on:
    branch: anchor-sound
  secret_access_key:
    secure: UaWXrI496sOqBvLbwf+Xibs3yLwXxIcXAyG3dRkwufIUYdF1s71NxN62ZBrgaaFOoaa1tmgZ5EwLvsYB1vSu8nB69sIfAzJv1dJF48QXUISWAvoTy7hbUyK9eHjf3XkLFJgxNDI5ENGZ4r7dY4gbU5fxhwPVomIf87qOoVF05R6259+w6oqWIFdUX52bIB4VA+GyLCUeFWIpUiovx1p3KjFA5JzAzhzybTJuv7AGdpLOFEG9jY23BAjYumxECuv56f9pz75gQNJG0dKEcjD29wWAVisRBIweroGIFpnG/GbUhIobu0OYei/+baw6dLH3VXMfDbUtHqAdMWUHTtujAdn1ckEerHE5nWdt3lvI8ZxX9pITAfzBhaKnX9qJZAXYqoYD17OQ7htFBorBE4ySot5vdEjsU82yoHjGOayFCWfMUpOANn1MqdNs8FYamInBuu1DcODGndyLR1ao+5B3nOGnhKyvGteS/jUN9TE7/csKGC+WLkohBdlg4caRApWdqGz7x6V0Xa78A8bRZKab/8G7voxp5qHetmVaD71Xsl+ehvO2aTkn/ECQhKYMd15Ag0FrEHjHUYzgyYcEO+1M52UE/FnFCjhzLA2aDgZ7vZeUbypGb3G+adhedWsds/0UTq5yQguiX+GKPi3e3ayKR/US/yJ1c0LqpXCVgUR3iPM=
  access_key_id:
    secure: j572fyx8e5C/iVmv72pQYP/8yBgvDn1/dUUTV5ENw26/zO36yTSsY75KIDybCPctYmb8ap4TTfgSMIjNgWz9KlJIQaAEsgu5mNC5O5R6DEc32/HBsOb9XPcV9rlQwB/CL6q9AITkNvsVxDnWQ0fwoUafYUxAWBNCCEwHdfkZlc2elazhgRIrHLpyhr1SxphxUGzdSmzvwdIUfWs/yDwJGPPrUCuQCUvleL1xMNlNMM0eOohMbk/svZTwNoMAAMPDI9RiE5oURrfKlJynz7yaKEKdKNCGF4g1Z5AbYfcIWx6WlxcxGa957ivYxgPHxunY206HzqqYi4Bir+q2YOg5HeNBmjYlhKBnrj4iWUZiYo+m1i3Vw3xR/FG5cU3RL34i0aDqPHHMIaKGgPmIH9ZXnt7Ncbql9Emgo875SwtLpAycI+Nf91GKMl+R1IRsAr8YvR9uTUQ/pTZi0N49Mw5d4UudhDt/AxPYKrXLh8qrsZYXq7nmLCGFBGA+iy1OOnUJxYQZ0o65MQyS8Qx93hSiwGiLjk/UMAzOSZ/MBE0+/iA0anfwJzs+JOoApYn+P3SksfCA0tsC1ikmxzVdf/nRTMyKMN1vmP2d+XLrnw8FWH35WVGCcphh55ctht465ufstvM+C2TgIDFhsmAmSuaqM7HWRl3hxYdVXX3Xhz7UCoc=