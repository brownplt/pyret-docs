language: python
python:
- '3.4'
branches:
  only:
  - anchor-sound
env:
  global:
  - GH_REF: github.com/h454482/pyret-docs.git
  - RACKET_DIR: "~/racket"
  - RACKET_VERSION: '7.4'
  - secure: YeIStlvyzUSqDIOgx2quYuEFk2Ves/XL1fa+x/NT4a2q92WX/DJxBv6Nn5zuwWviXFfEwdi3r9T5DcRhkWmQE8ogHmX9ria8qBvIi0pkPyR6bpUVLcqhxssjrzUcusEk5cboOyzJHimrKxyoXV0iJmUVqYhOEwISQxMRV/aW/lsegvp5n5KU4R+n2tYsS8e8Y3vLloFiL3QU4mpez6rQzpM6ZKLDwDPWfjxSAAz/hCdEpp7InitFFbpH/npTOBJI2UbKc/W56umGPVUrIgU8x1C3MF8sB/35wq3hg3TK02axDGW2HNoY7P4Peaqt2nkkrnyEgV2HyjyD4m778Aj9qThvJL1jVtERmYDIBNdzagF8YM3yJ6EA2WxLTS2ERO+T1RYgwDixucQARl5bp8SspWy/vM+dOQGUVVKyF9CSs8/Pd/07Fx84L43ELCgGAjMyEhE8hbChOHbcLnOuU1n++Ae5u/0ytSSkou1Tb1QEo5MSoYi1C9ScI3eH90Ff5GRg3THmmCPkwTui2Ou8wp3oLc6SuULDH6U/lD0+6wFu8FpGIYl1Dk0lfQo3JnW0eQoHslE0uW0AFUHRQPujws8JM8hEmARZDyjVSOCADUkHzN+28seguX5mwyNlbwgcvAgSZDuL4XYJrPeEUvpVMVxGCjdZlcmCw8XeKgYTmngxlTw=
  - secure: rHmNPLTMeRyfAt8gk7HYY2PFA++hET1RYTr2AGNUOPh7v9tCe8yeukabP9xGB9p202HMmfa9eybmQ5NsOMCXgbWTYrixjpWJFGqTRCvj7IobZJt2jwX+eK4dWQMur9FG2BPd/qA9Pw1W/xeOyF50zBgHAzWAwACUP2o2E+fIapu8bT9ItZtccjjCHeEMJ216UfJdpf86K+SkZyVz97agTLeQ6Rph6OKVAQMCTxzn89zhyM4fFU0FJbVI0KqAMr5hbjLqUsfOHL/6yq2bTtrllgKa16gr+utpFtYnmmoLU5rmYgOhaY+hgoNWwWo4+iEzNDpRlWBsVxbPQWj1YnpzdFKueApWjkQaddHj990M7Ts/gTmhbHE28nKbCVVpZCPlTY6Mb+Co0BeFW5FwM+9Tnj3EAUHHRdXj0oFPylw39sFHBRjeqn1eJx8oX0M1qdKeuF83KRyQI+sRNAPoO+XPy6Ig6UI49gFQoXBtiAWZeaMPVWPA77XGloJxUP+D7pZe1Qov3gQJrATG7LycIA9hwB6hOiINuloYW6YHzFUqPHKqtCp8ZOztRYghFfOGBQJpgagxKj/nmKIWdGsLxcBlArceWO8HgjwcpHhek9NQdnYdcqLzZnFCBWjUrUaYjj1EFYjJMvtbT9oM8nZmQxsPnRQMTo4dbJ0gj/N93fnvSm4=
before_install:
- git clone https://github.com/greghendershott/travis-racket.git
- cat travis-racket/install-racket.sh | bash
- export PATH="${RACKET_DIR}/bin:${PATH}"
script:
- npm install
- make
deploy:
- provider: s3
  bucket: pyret-docs-sound
  local_dir: build/docs
  upload-dir: docs
  skip_cleanup: true
  on:
    branch: anchor-sound
  secret_access_key:
    secure: g/SIwV2SxviJ5S8IMIAFVTtX9mGRXQEu1rJLoBoLOgWftdIFC8BSPo3BIF6b/V+fcjP1tqaiE3yG88PyRH403y7YZHEWZm2FoalVG8hPDdV/bSKen5O+m8f4FQttzzPCXTOu7A+5eyRu+MP0BvDdY/OdbyCAdo1ChiX/bw50uls/HYu00r1cU8fx+ftjT9IecK+msK/+CCL9lkMOeR+YxK7S3SLeP6+5GhWU2tTEz9uHvGfEyLzf6Ch1WivMh1jhvWawLJI26VcgTC1S6Z7N0y/IX7bJkqxueBJoj/Qm9yWRGqQZiZdATDqHlGj8ZfkD8ESowKqrFJyiT4jU4R/GQa7Y83z525YjmTuIAh0LH/TaH71r93mvmdJsnhkP16sSSfTxyw9VaBc32yl1rfeZReSg4Ov32vAR/PMTA5fspA5OOzEsLNceF8mE60a7heE5BxtAJOadCM+YSDxbxtheOoGnNNR17sKAYb6AK+ne7c9MjXJsscwY0Jo3hg90/JdOETcfHLLqSQuVXLMD+WvqJQhdB+2SkW3ELeTlOqLcAlacQA/LzJj/bG3kW4jWs2POzuryctHm+UnTgu0XW7ktIGH3IQ7g/7w0nlwBR+A0bJXmy7TQow2scZzebm8Rt9s5CVFuSG4CWXVPZ06A93n0lK8MUwLbqeE4P59dVHzDN0g=
  access_key_id:
    secure: UUDuKKGL0AhD9QOTbmYgBFaBt4wVNvfkE2hGN2V10Lb+pj3uUXE/+SGoXP3Wh+EpPNUAnkrrsfS7qetRasQ0ytKSY/RPIDLqIcF/1cEP98rOXN7uybju1nmjgbSKctpyKSVGaNrEMstWR6y+/7ZzOeSj3ereP9n88Zq/UV7Fox8aiDmr/v+zQh8qXzma977u9ACSMoaAQvok0kImE33dvXD1YMXYeGiH10dMTVc50/q/K1NwHffTrBGtpm0vwlY3C67IbvHKGmCX4meljuAFTuiuNJqOMlBSN8C0jGc65vf6Xry+th1SeX6m/X68H2YUI4LxomSsUgYbukRHe1R6JrETAwxPqeOFVFeMqhdLXFugLse6pQApSY2xOp1Qh+NFc7La7QUUCJ219tUymaIIzTjHgn7pPdPFinczhx8e7Zuq7WRodjmMqytZG7C/sPARBTMi2cKb3KIPj0qgek12ngRJiESFOjHKOZ52b/T6oSYI+IuirPjCHGZV9GAcIIiOyV1rOnkk4+Luf7zXIO8LoJsnj0aYJBrWrKjljbf1pMlg9UfA/XiL1J7DKehjHA13bvY8B1Y/SpBlRkQZw7Lj0vEXnYixNF0TAGDQ0BO9bz/CqEBW/CLRgBp2FQjlLtC6dOEqjdMd929O8s9BkMaRdsmhWHdFZr1LhfYpI/HbGZI=