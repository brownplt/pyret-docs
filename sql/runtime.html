<!doctype HTML>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="codemirror.js"></script>
<script src="runmode.js"></script>
<script src="pyret.js"></script>
<script src="hilite.js"></script>
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><title>5.1&nbsp;Runtime API</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="footnote.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="codemirror.css" title="default"/><link rel="stylesheet" type="text/css" href="pyret.css" title="default"/><link rel="stylesheet" type="text/css" href="styles.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Pyret</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Getting_Started.html" class="tocviewlink" data-pltdoc="x">Getting Started</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="Language_Concepts.html" class="tocviewlink" data-pltdoc="x">Language Concepts</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Builtins.html" class="tocviewlink" data-pltdoc="x">Builtins</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="Libraries.html" class="tocviewlink" data-pltdoc="x">Libraries</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="Internals.html" class="tocviewselflink" data-pltdoc="x">Internals</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>5&nbsp;</td><td><a href="Internals.html" class="tocviewlink" data-pltdoc="x">Internals</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">5.1&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Runtime API</a></td></tr><tr><td align="right">5.2&nbsp;</td><td><a href="ffi.html" class="tocviewlink" data-pltdoc="x">FFI Helpers</a></td></tr><tr><td align="right">5.3&nbsp;</td><td><a href="s_running.html" class="tocviewlink" data-pltdoc="x">Running Code (Safely)</a></td></tr><tr><td align="right">5.4&nbsp;</td><td><a href="Modules.html" class="tocviewlink" data-pltdoc="x">Modules</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9658;</a></td><td>5.1&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Runtime API</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">5.1.1&nbsp;</td><td><a href="#%28part._s~3aruntime-object%29" class="tocviewlink" data-pltdoc="x">The Pyret Runtime</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#%28part._.Runtime.Lib_create%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">Runtime<span class="mywbr"> &nbsp;</span>Lib.create</span></a></td></tr><tr><td><span class="tocsublinknumber">5.1.1<tt>&nbsp;</tt></span><a href="#%28part._s~3aruntime-object%29" class="tocsubseclink" data-pltdoc="x">The Pyret Runtime</a></td></tr><tr><td><span class="tocsublinknumber">5.1.1.1<tt>&nbsp;</tt></span><a href="#%28part._.Running_.Pyret_.Programs%29" class="tocsubseclink" data-pltdoc="x">Running Pyret Programs</a></td></tr><tr><td><a href="#%28part._.Runtime_run.Standalone%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">Runtime.run<span class="mywbr"> &nbsp;</span>Standalone</span></a></td></tr><tr><td><span class="tocsublinknumber">5.1.1.2<tt>&nbsp;</tt></span><a href="#%28part._.Creating_.Values%29" class="tocsubseclink" data-pltdoc="x">Creating Values</a></td></tr><tr><td><a href="#%28part._.Runtime_make.Number%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">Runtime.make<span class="mywbr"> &nbsp;</span>Number</span></a></td></tr><tr><td><a href="#%28part._.Runtime_make.Number.From.String%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">Runtime.make<span class="mywbr"> &nbsp;</span>Number<span class="mywbr"> &nbsp;</span>From<span class="mywbr"> &nbsp;</span>String</span></a></td></tr><tr><td><a href="#%28part._.Runtime_make.String%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">Runtime.make<span class="mywbr"> &nbsp;</span>String</span></a></td></tr><tr><td><a href="#%28part._.Runtime_pyret.True%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">Runtime.pyret<span class="mywbr"> &nbsp;</span>True</span></a></td></tr><tr><td><a href="#%28part._.Runtime_pyret.False%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">Runtime.pyret<span class="mywbr"> &nbsp;</span>False</span></a></td></tr><tr><td><a href="#%28part._.Runtime_make.Array%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">Runtime.make<span class="mywbr"> &nbsp;</span>Array</span></a></td></tr><tr><td><a href="#%28part._.Runtime_make.Object%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">Runtime.make<span class="mywbr"> &nbsp;</span>Object</span></a></td></tr><tr><td><a href="#%28part._.Runtime_make.Function%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">Runtime.make<span class="mywbr"> &nbsp;</span>Function</span></a></td></tr><tr><td><a href="#%28part._.Runtime_make.Method.N%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">Runtime.make<span class="mywbr"> &nbsp;</span>Method<span class="mywbr"> &nbsp;</span>N</span></a></td></tr><tr><td><span class="tocsublinknumber">5.1.1.3<tt>&nbsp;</tt></span><a href="#%28part._.Interacting_with_.Objects%29" class="tocsubseclink" data-pltdoc="x">Interacting with Objects</a></td></tr><tr><td><a href="#%28part._.Runtime_get.Field%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">Runtime.get<span class="mywbr"> &nbsp;</span>Field</span></a></td></tr><tr><td><a href="#%28part._.Runtime_get.Colon.Field%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">Runtime.get<span class="mywbr"> &nbsp;</span>Colon<span class="mywbr"> &nbsp;</span>Field</span></a></td></tr><tr><td><a href="#%28part._.Runtime_get.Fields%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">Runtime.get<span class="mywbr"> &nbsp;</span>Fields</span></a></td></tr><tr><td><a href="#%28part._.Runtime_has.Field%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">Runtime.has<span class="mywbr"> &nbsp;</span>Field</span></a></td></tr><tr><td><span class="tocsublinknumber">5.1.1.4<tt>&nbsp;</tt></span><a href="#%28part._.Assertions%29" class="tocsubseclink" data-pltdoc="x">Assertions</a></td></tr><tr><td><a href="#%28part._.Runtime_check.Arity%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">Runtime.check<span class="mywbr"> &nbsp;</span>Arity</span></a></td></tr><tr><td><a href="#%28part._.Runtime_check.Number%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">Runtime.check<span class="mywbr"> &nbsp;</span>Number</span></a></td></tr><tr><td><a href="#%28part._.Runtime_check.String%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">Runtime.check<span class="mywbr"> &nbsp;</span>String</span></a></td></tr><tr><td><a href="#%28part._.Runtime_check.Boolean%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">Runtime.check<span class="mywbr"> &nbsp;</span>Boolean</span></a></td></tr><tr><td><a href="#%28part._.Runtime_check.Object%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">Runtime.check<span class="mywbr"> &nbsp;</span>Object</span></a></td></tr><tr><td><a href="#%28part._.Runtime_check.Function%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">Runtime.check<span class="mywbr"> &nbsp;</span>Function</span></a></td></tr><tr><td><a href="#%28part._.Runtime_check.Method%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">Runtime.check<span class="mywbr"> &nbsp;</span>Method</span></a></td></tr><tr><td><a href="#%28part._.Runtime_check.Array%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">Runtime.check<span class="mywbr"> &nbsp;</span>Array</span></a></td></tr><tr><td><a href="#%28part._.Runtime_check.Pyret.Val%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">Runtime.check<span class="mywbr"> &nbsp;</span>Pyret<span class="mywbr"> &nbsp;</span>Val</span></a></td></tr><tr><td><span class="tocsublinknumber">5.1.1.5<tt>&nbsp;</tt></span><a href="#%28part._.Equality%29" class="tocsubseclink" data-pltdoc="x">Equality</a></td></tr><tr><td><a href="#%28part._.Runtime_combine.Equality%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">Runtime.combine<span class="mywbr"> &nbsp;</span>Equality</span></a></td></tr><tr><td><span class="tocsublinknumber">5.1.1.6<tt>&nbsp;</tt></span><a href="#%28part._.F.F.I_.Helpers%29" class="tocsubseclink" data-pltdoc="x">FFI Helpers</a></td></tr><tr><td><a href="#%28part._.Runtime_ffi%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">Runtime.ffi</span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="Internals.html" title="backward to &quot;5 Internals&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Internals.html" title="up to &quot;5 Internals&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="ffi.html" title="forward to &quot;5.2 FFI Helpers&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>5.1<tt>&nbsp;</tt><a name="(part._runtime)"></a>Runtime API</h4><p>Pyret exposes most of its internal operations on the <span class="stt">runtime</span> object; most
JavaScript code that interacts with Pyret will need to know about the runtime.</p><p>The library that defines runtimes is in <span class="stt">src/js/base/runtime-anf.js</span>, and it
is configured to be importable with <span class="stt">js/runtime-anf</span> via RequireJS:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">define(["js/runtime-anf"], function(runtimeLib) {</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">// use runtimeLib</span></p></td></tr><tr><td><p><span class="stt">});</span></p></td></tr></table></p><div class="function"><div class="boxed"><p><a name="(part._.Runtime.Lib_create)" class="pyret-code"></a><span class="stt">RuntimeLib.create</span><span class="stt">(</span><span class="stt">options</span><span class="stt">) &#8594; </span><span class="stt">Runtime</span></p></div></div><p>Create a new Pyret runtime.  The <span class="stt">RuntimeLib</span> value itself only exports
this interface, and most other useful functions are referenced from the
runtime objecs it creates.  The options are:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">options :: {</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">initialGas: Number,</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">stdout: String &#8594; Undefined,</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">stderr: String &#8594; Undefined</span></p></td></tr><tr><td><p><span class="stt">}</span></p></td></tr></table></p><p>The size of the Pyret stack is constrained to <span class="stt">initialGas</span> frames; most
applications have little need to set this.</p><p>For applications that need control over printing, they can set <span class="stt">stdout</span> and
<span class="stt">stderr</span> to get called whenever Pyret would print strings (e.g. via
<span class="stt">print</span>).  This interface may change to accept all Pyret values at some
point, to allow for richer rendering interfaces.</p><h5>5.1.1<tt>&nbsp;</tt><a name="(part._s~3aruntime-object)"></a>The Pyret Runtime</h5><p>The return value of <a href="#%28part._.Runtime.Lib_create%29" data-pltdoc="x"><span class="stt">RuntimeLib.create</span></a> is a runtime
object with many useful methods for programmatically interacting with Pyret.</p><h5>5.1.1.1<tt>&nbsp;</tt><a name="(part._.Running_.Pyret_.Programs)"></a>Running Pyret Programs</h5><div class="function"><p><div class="SIntrapara"><span class="NoteBox"><span class="NoteContent"><span class="stt">!&#8594;</span> means this function is not <a href="s_running.html" data-pltdoc="x">stack safe</a></span></span></div><div class="SIntrapara"><div class="boxed"><dl class="multiline-args"><dt class=""><a name="(part._.Runtime_run.Standalone)" class="pyret-code"></a><span class="stt">Runtime.runStandalone</span>(</dt><dt class="indent-arg"><span class="stt">modules: JSDict&lt;URI, StaticModules&gt;</span></dt><dt class="indent-arg"><span class="stt">dependencies: JSDict&lt;URI, JSDict&lt;String, URI&gt;&gt;</span></dt><dt class="indent-arg"><span class="stt">toLoad: JSArray&lt;URI&gt;</span></dt><dt class="indent-arg"><span class="stt">postLoadHooks: JSDict&lt;URI, (PyretModuleResult &#8594; Undefined)&gt;</span></dt><dt class=""><span class="stt">)</span></dt><dt class=""><span class="stt">!&#8594; PyretModuleResult</span></dt></dl></div></div></p></div><p>Uses <span class="stt">toLoad</span>&#8212;the list of URIs&#8212;to evaluate modules in order.  The modules
are found in the <span class="stt">modules</span> dictionary, and the <span class="stt">dependencies</span> dictionary
describes which modules they depend on.  This structure is described in
<a href="Modules.html#%28part._s~3acomplete%29" data-pltdoc="x">Complete Programs</a>.</p><p>A more important feature of <a href="#%28part._.Runtime_run.Standalone%29" data-pltdoc="x"><span class="stt">Runtime.runStandalone</span></a> is the
ability to register <span class="stt">postLoadHooks</span>.  This dictionary, keyed on URI,
contains callbacks which are invoked on completion of the corresponding module,
and passed the module&rsquo;s result.  The most obvious candidate for a
<span class="stt">postLoadHook</span> is the main module, or the last one in the <span class="stt">toLoad</span> list;
this is where test results can be fetched and printed and errors reported,
based on the returned [REF PyretModuleResult].</p><p>In addition, Pyret&rsquo;s default standalones register several <span class="stt">postLoadHook</span>s.
For example, after the <span class="stt">ffi</span> library is loaded, a number of new fields are
added to <span class="stt">runtime</span> to manipulate lists.  Other uses include:</p><ul><li><p>Substituting a different checker library by setting <span class="stt">current-checker</span>
after loading the appropriate library.</p></li><li><p>Logging the completion time for loading each module in the <span class="stt">toLoad</span>
list for benchmarking.</p></li></ul><p>While evaluating the modules, the runtime caches the results for each module
that completed successfully, in the <span class="stt">runtime.modules</span> dictionary.  This can
be accessed later to quickly get the exported values of a module without
re-running it.</p><h5>5.1.1.2<tt>&nbsp;</tt><a name="(part._.Creating_.Values)"></a>Creating Values</h5><div class="function"><div class="boxed"><p><a name="(part._.Runtime_make.Number)" class="pyret-code"></a><span class="stt">Runtime.makeNumber</span><span class="stt">(</span><span class="stt">JSNumber</span><span class="stt">) &#8594; </span><span class="stt">PyretNumber</span></p></div></div><div class="function"><div class="boxed"><p><a name="(part._.Runtime_make.Number.From.String)" class="pyret-code"></a><span class="stt">Runtime.makeNumberFromString</span><span class="stt">(</span><span class="stt">JSString</span><span class="stt">) &#8594; </span><span class="stt">PyretNumber</span></p></div></div><p>Parses the string and creates a representation of the number that avoids float
overflows and can represent very large and very small rationals exactly.</p><div class="function"><div class="boxed"><p><a name="(part._.Runtime_make.String)" class="pyret-code"></a><span class="stt">Runtime.makeString</span><span class="stt">(</span><span class="stt">JSString</span><span class="stt">) &#8594; </span><span class="stt">PyretString</span></p></div></div><p>The representation of Pyret strings is JS strings, though this may change to
accommodate better Unicode support in the future.</p><p><div class="SIntrapara"><div class="function"><div class="boxed"><p><a name="(part._.Runtime_pyret.True)" class="pyret-code"></a><span class="stt">Runtime.pyretTrue</span> :: <span class="stt">PyretBoolean</span></p></div></div></div><div class="SIntrapara"><div class="function"><div class="boxed"><p><a name="(part._.Runtime_pyret.False)" class="pyret-code"></a><span class="stt">Runtime.pyretFalse</span> :: <span class="stt">PyretBoolean</span></p></div></div></div></p><p>The runtime values for <span class="pyret-highlight"><span class="stt">true</span></span> and <span class="pyret-highlight"><span class="stt">false</span></span> in Pyret.  Representation
is JavaScript <span class="stt">true</span> and <span class="stt">false</span>.</p><div class="function"><div class="boxed"><p><a name="(part._.Runtime_make.Array)" class="pyret-code"></a><span class="stt">Runtime.makeArray</span><span class="stt">(</span><span class="stt">JSArray</span><span class="stt">) &#8594; </span><span class="stt">PyretRawArray</span></p></div></div><p>Creates a Pyret <a href="raw-arrays.html#%28part._raw-arrays_.Raw.Array%29" data-pltdoc="x"><span class="stt">RawArray</span></a> with the given elements.
Currently the identity function: Pyret raw arrays are JavaScript arrays.</p><div class="function"><div class="boxed"><p><a name="(part._.Runtime_make.Object)" class="pyret-code"></a><span class="stt">Runtime.makeObject</span><span class="stt">(</span><span class="stt">JSObj</span><span class="stt">) &#8594; </span><span class="stt">PyretObject</span></p></div></div><p>Creates a Pyret object with the fields in the input object.  The representation
of an object is <span style="font-style: italic">not</span> one-to-one with JS objects.</p><p>The fields of a Pyret object go in the <span class="stt">dict</span> field of the JS object, and
the JS object has an additional field called <span class="stt">brands</span>, which hold
information about an object&rsquo;s type information (if it has any).
<a href="string-dict.html#%28part._string-dict_.String.Dict%29" data-pltdoc="x"><span class="stt">StringDict</span></a>s, for example, are branded objects.</p><div class="function"><div class="boxed"><p><a name="(part._.Runtime_make.Function)" class="pyret-code"></a><span class="stt">Runtime.makeFunction</span><span class="stt">(</span><span class="stt">JSFunction</span><span class="stt">) &#8594; </span><span class="stt">PyretFunction</span></p></div></div><p>Returns a Pyret function backed by the provided JS function.  The Pyret
function will <span style="font-style: italic">not</span> do any arity checks on behalf of the JS function, so
any arity checks need to be done explicitly (see <a href="#%28part._.Runtime_check.Arity%29" data-pltdoc="x"><span class="stt">Runtime.checkArity</span></a>).  The function can be accessed directly via the <span class="pyret-highlight"><span class="stt">app</span></span>
field of the Pyret function, but read the section on <a href="s_running.html#%28part._.Runtime_safe.Call%29" data-pltdoc="x"><span class="stt">Runtime.safeCall</span></a> in order to suitably protect calls to Pyret functions.</p><div class="function"><div class="boxed"><p><a name="(part._.Runtime_make.Method.N)" class="pyret-code"></a><span class="stt">Runtime.makeMethodN</span><span class="stt">(</span><span class="stt">JSFunction</span><span class="stt">) &#8594; </span><span class="stt">PyretMethod</span></p></div></div><h5>5.1.1.3<tt>&nbsp;</tt><a name="(part._.Interacting_with_.Objects)"></a>Interacting with Objects</h5><div class="function"><div class="boxed"><p><a name="(part._.Runtime_get.Field)" class="pyret-code"></a><span class="stt">Runtime.getField</span><span class="stt">(</span><span class="stt">PyretObject</span><span class="stt">, </span><span class="stt">JSString</span><span class="stt">) &#8594; </span><span class="stt">PyretValue</span></p></div></div><p>Gets the field with the given name from the object.  If the field is a method,
it is automatically curried over the object, as with dot.</p><div class="function"><div class="boxed"><p><a name="(part._.Runtime_get.Colon.Field)" class="pyret-code"></a><span class="stt">Runtime.getColonField</span><span class="stt">(</span><span class="stt">PyretObject</span><span class="stt">, </span><span class="stt">JSString</span><span class="stt">) &#8594; </span><span class="stt">PyretValue</span></p></div></div><p>Gets the field with the given name from the object.  If the field is a method,
no additional work is performed.</p><div class="function"><div class="boxed"><p><a name="(part._.Runtime_get.Fields)" class="pyret-code"></a><span class="stt">Runtime.getFields</span><span class="stt">(</span><span class="stt">PyretObject</span><span class="stt">) &#8594; </span><span class="stt">JSArray&lt;String&gt;</span></p></div></div><p>Returns all the field names of the given object.</p><div class="function"><div class="boxed"><p><a name="(part._.Runtime_has.Field)" class="pyret-code"></a><span class="stt">Runtime.hasField</span><span class="stt">(</span><span class="stt">PyretObject</span><span class="stt">, </span><span class="stt">JSString</span><span class="stt">) &#8594; </span><span class="stt">JSBoolean</span></p></div></div><p>Checks if the given object has the named field.</p><h5>5.1.1.4<tt>&nbsp;</tt><a name="(part._.Assertions)"></a>Assertions</h5><div class="function"><div class="boxed"><dl class="multiline-args"><dt class=""><a name="(part._.Runtime_check.Arity)" class="pyret-code"></a><span class="stt">Runtime.checkArity</span>(</dt><dt class="indent-arg"><span class="stt">JSNumber</span></dt><dt class="indent-arg"><span class="stt">Arguments</span></dt><dt class="indent-arg"><span class="stt">JSString</span></dt><dt class=""><span class="stt">)</span></dt><dt class=""><span class="stt">&#8594; Undefined</span></dt></dl></div></div><p>Checks that the given argument list has the given arity.  Throws an exception
if they don&rsquo;t match.</p><p>There are a number of checking functions that check that a given argument is of
a particular type, and throw an exception if not:</p><p><div class="SIntrapara"><div class="function"><div class="boxed"><p><a name="(part._.Runtime_check.Number)" class="pyret-code"></a><span class="stt">Runtime.checkNumber</span><span class="stt">(</span><span class="stt">Any</span><span class="stt">) &#8594; </span><span class="stt">Undefined</span></p></div></div></div><div class="SIntrapara"><div class="function"><div class="boxed"><p><a name="(part._.Runtime_check.String)" class="pyret-code"></a><span class="stt">Runtime.checkString</span><span class="stt">(</span><span class="stt">Any</span><span class="stt">) &#8594; </span><span class="stt">Undefined</span></p></div></div></div><div class="SIntrapara"><div class="function"><div class="boxed"><p><a name="(part._.Runtime_check.Boolean)" class="pyret-code"></a><span class="stt">Runtime.checkBoolean</span><span class="stt">(</span><span class="stt">Any</span><span class="stt">) &#8594; </span><span class="stt">Undefined</span></p></div></div></div><div class="SIntrapara"><div class="function"><div class="boxed"><p><a name="(part._.Runtime_check.Object)" class="pyret-code"></a><span class="stt">Runtime.checkObject</span><span class="stt">(</span><span class="stt">Any</span><span class="stt">) &#8594; </span><span class="stt">Undefined</span></p></div></div></div><div class="SIntrapara"><div class="function"><div class="boxed"><p><a name="(part._.Runtime_check.Function)" class="pyret-code"></a><span class="stt">Runtime.checkFunction</span><span class="stt">(</span><span class="stt">Any</span><span class="stt">) &#8594; </span><span class="stt">Undefined</span></p></div></div></div><div class="SIntrapara"><div class="function"><div class="boxed"><p><a name="(part._.Runtime_check.Method)" class="pyret-code"></a><span class="stt">Runtime.checkMethod</span><span class="stt">(</span><span class="stt">Any</span><span class="stt">) &#8594; </span><span class="stt">Undefined</span></p></div></div></div><div class="SIntrapara"><div class="function"><div class="boxed"><p><a name="(part._.Runtime_check.Array)" class="pyret-code"></a><span class="stt">Runtime.checkArray</span><span class="stt">(</span><span class="stt">Any</span><span class="stt">) &#8594; </span><span class="stt">Undefined</span></p></div></div></div></p><div class="function"><div class="boxed"><p><a name="(part._.Runtime_check.Pyret.Val)" class="pyret-code"></a><span class="stt">Runtime.checkPyretVal</span><span class="stt">(</span><span class="stt">Any</span><span class="stt">) &#8594; </span><span class="stt">Undefined</span></p></div></div><h5>5.1.1.5<tt>&nbsp;</tt><a name="(part._.Equality)"></a>Equality</h5><div class="function"><div class="boxed"><p><a name="(part._.Runtime_combine.Equality)" class="pyret-code"></a><span class="stt">Runtime.combineEquality</span><span class="stt">(</span><span class="stt">EqualityResult</span><span class="stt">, </span><span class="stt">EqualityResult</span><span class="stt">) &#8594; </span><span class="stt">EqualityResult</span></p></div></div><p>Takes two <a href="equality.html#%28part._equality_.Equality.Result%29" data-pltdoc="x"><span class="stt">EqualityResult</span></a>s and combines them.  Any value
paired with <a href="equality.html#%28part._equality_.Not.Equal%29" data-pltdoc="x"><span class="stt">NotEqual</span></a> produces <a href="equality.html#%28part._equality_.Not.Equal%29" data-pltdoc="x"><span class="stt">NotEqual</span></a>, any combination of <a href="equality.html#%28part._equality_.Equal%29" data-pltdoc="x"><span class="stt">Equal</span></a> and
<a href="equality.html#%28part._equality_.Unknown%29" data-pltdoc="x"><span class="stt">Unknown</span></a> produces <a href="equality.html#%28part._equality_.Unknown%29" data-pltdoc="x"><span class="stt">Unknown</span></a>, and
two <a href="equality.html#%28part._equality_.Equal%29" data-pltdoc="x"><span class="stt">Equal</span></a> values produce <a href="equality.html#%28part._equality_.Equal%29" data-pltdoc="x"><span class="stt">Equal</span></a>.</p><h5>5.1.1.6<tt>&nbsp;</tt><a name="(part._.F.F.I_.Helpers)"></a>FFI Helpers</h5><div class="function"><div class="boxed"><p><a name="(part._.Runtime_ffi)" class="pyret-code"></a><span class="stt">Runtime.ffi</span> :: <span class="stt">FFIHelpers</span></p></div></div><p>The Pyret runtime instantiates an <a href="ffi.html" data-pltdoc="x"><span class="stt">FFIHelpers</span> object</a> and
stores in in the <span class="stt">ffi</span> field.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="Internals.html" title="backward to &quot;5 Internals&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Internals.html" title="up to &quot;5 Internals&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="ffi.html" title="forward to &quot;5.2 FFI Helpers&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>